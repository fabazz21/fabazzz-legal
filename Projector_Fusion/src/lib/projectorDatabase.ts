import { ProjectorConfig, LensConfig } from '@/types/mapping';

export const LENSES: Record<string, LensConfig> = {
  // Panasonic Lenses
  'ET-D3LEU100': {
    id: 'ET-D3LEU100',
    throwMin: 0.36,
    throwMax: 0.36,
    fixed: true,
    shiftV: [-40, 50],
    shiftH: [-15, 15],
  },
  'ET-D3LEW200': {
    id: 'ET-D3LEW200',
    throwMin: 0.48,
    throwMax: 0.55,
    fixed: false,
    shiftV: [-66, 66],
    shiftH: [-24, 24],
  },
  'ET-D3LEW60': {
    id: 'ET-D3LEW60',
    throwMin: 0.68,
    throwMax: 0.80,
    fixed: false,
    shiftV: [-66, 66],
    shiftH: [-24, 24],
  },
  'ET-D75LE6': {
    id: 'ET-D75LE6',
    throwMin: 0.90,
    throwMax: 1.10,
    fixed: false,
    shiftV: [-66, 66],
    shiftH: [-24, 24],
  },
  'ET-D3LEW10': {
    id: 'ET-D3LEW10',
    throwMin: 1.01,
    throwMax: 1.30,
    fixed: false,
    shiftV: [-66, 66],
    shiftH: [-24, 24],
  },
  'ET-D3LES20': {
    id: 'ET-D3LES20',
    throwMin: 1.36,
    throwMax: 1.78,
    fixed: false,
    shiftV: [-66, 66],
    shiftH: [-24, 24],
  },
  'ET-D3LET80': {
    id: 'ET-D3LET80',
    throwMin: 1.81,
    throwMax: 2.56,
    fixed: false,
    shiftV: [-66, 66],
    shiftH: [-24, 24],
  },
  'ET-D75LE95': {
    id: 'ET-D75LE95',
    throwMin: 0.80,
    throwMax: 0.80,
    fixed: true,
    shiftV: [-60, 60],
    shiftH: [-20, 20],
  },
  // Christie Lenses
  'Christie-UST': {
    id: 'Christie-UST',
    throwMin: 0.38,
    throwMax: 0.38,
    fixed: true,
    shiftV: [-50, 50],
    shiftH: [-20, 20],
  },
  'Christie-0.85-1.02': {
    id: 'Christie-0.85-1.02',
    throwMin: 0.85,
    throwMax: 1.02,
    fixed: false,
    shiftV: [-100, 100],
    shiftH: [-30, 30],
  },
  'Christie-1.02-1.36': {
    id: 'Christie-1.02-1.36',
    throwMin: 1.02,
    throwMax: 1.36,
    fixed: false,
    shiftV: [-100, 100],
    shiftH: [-30, 30],
  },
  'Christie-1.22-1.53': {
    id: 'Christie-1.22-1.53',
    throwMin: 1.22,
    throwMax: 1.53,
    fixed: false,
    shiftV: [-100, 100],
    shiftH: [-30, 30],
  },
  // Barco Lenses
  'Barco-UST-0.36': {
    id: 'Barco-UST-0.36',
    throwMin: 0.36,
    throwMax: 0.36,
    fixed: true,
    shiftV: [-30, 30],
    shiftH: [-15, 15],
  },
  'Barco-0.75-0.95': {
    id: 'Barco-0.75-0.95',
    throwMin: 0.75,
    throwMax: 0.95,
    fixed: false,
    shiftV: [-120, 120],
    shiftH: [-40, 40],
  },
  'Barco-1.2-1.5': {
    id: 'Barco-1.2-1.5',
    throwMin: 1.20,
    throwMax: 1.50,
    fixed: false,
    shiftV: [-120, 120],
    shiftH: [-40, 40],
  },
  // Epson Lenses
  'Epson-ELPLX02S': {
    id: 'Epson-ELPLX02S',
    throwMin: 0.35,
    throwMax: 0.35,
    fixed: true,
    shiftV: [-60, 60],
    shiftH: [-18, 18],
  },
  'Epson-ELPLU03S': {
    id: 'Epson-ELPLU03S',
    throwMin: 0.65,
    throwMax: 0.78,
    fixed: false,
    shiftV: [-60, 60],
    shiftH: [-18, 18],
  },
  'Epson-ELPLS04': {
    id: 'Epson-ELPLS04',
    throwMin: 1.44,
    throwMax: 2.32,
    fixed: false,
    shiftV: [-60, 60],
    shiftH: [-18, 18],
  },
};

export const PROJECTOR_DATABASE: Record<string, ProjectorConfig> = {
  // Panasonic Projectors
  'PT-RQ25K': {
    name: 'PT-RQ25K',
    brand: 'Panasonic',
    lumens: 25000,
    resolution: '4K (4096×2160)',
    nativeAspect: 16 / 9,
    defaultLens: 'ET-D3LES20',
    compatibleLenses: [
      'ET-D3LEU100', 'ET-D3LEW200', 'ET-D3LEW60', 'ET-D75LE6',
      'ET-D3LEW10', 'ET-D3LES20', 'ET-D3LET80', 'ET-D75LE95',
    ],
  },
  'PT-RQ18K': {
    name: 'PT-RQ18K',
    brand: 'Panasonic',
    lumens: 18000,
    resolution: '4K (4096×2160)',
    nativeAspect: 16 / 9,
    defaultLens: 'ET-D3LES20',
    compatibleLenses: [
      'ET-D3LEU100', 'ET-D3LEW200', 'ET-D3LEW60', 'ET-D75LE6',
      'ET-D3LEW10', 'ET-D3LES20', 'ET-D3LET80',
    ],
  },
  'PT-RQ13K': {
    name: 'PT-RQ13K',
    brand: 'Panasonic',
    lumens: 13000,
    resolution: '4K (4096×2160)',
    nativeAspect: 16 / 9,
    defaultLens: 'ET-D3LES20',
    compatibleLenses: [
      'ET-D3LEW60', 'ET-D75LE6', 'ET-D3LEW10', 'ET-D3LES20', 'ET-D3LET80',
    ],
  },
  'PT-RZ31K': {
    name: 'PT-RZ31K',
    brand: 'Panasonic',
    lumens: 31000,
    resolution: 'WUXGA (1920×1200)',
    nativeAspect: 16 / 10,
    defaultLens: 'ET-D3LES20',
    compatibleLenses: [
      'ET-D3LEU100', 'ET-D3LEW200', 'ET-D3LEW60', 'ET-D75LE6',
      'ET-D3LEW10', 'ET-D3LES20', 'ET-D3LET80',
    ],
  },
  'PT-RZ21K': {
    name: 'PT-RZ21K',
    brand: 'Panasonic',
    lumens: 21000,
    resolution: 'WUXGA (1920×1200)',
    nativeAspect: 16 / 10,
    defaultLens: 'ET-D3LES20',
    compatibleLenses: [
      'ET-D3LEU100', 'ET-D3LEW200', 'ET-D3LEW60', 'ET-D75LE6',
      'ET-D3LEW10', 'ET-D3LES20', 'ET-D3LET80',
    ],
  },
  'PT-MZ880': {
    name: 'PT-MZ880',
    brand: 'Panasonic',
    lumens: 8000,
    resolution: 'WUXGA (1920×1200)',
    nativeAspect: 16 / 10,
    defaultLens: 'ET-D3LES20',
    compatibleLenses: ['ET-D3LEW60', 'ET-D3LES20', 'ET-D3LET80'],
  },
  'PT-MZ680': {
    name: 'PT-MZ680',
    brand: 'Panasonic',
    lumens: 6000,
    resolution: 'WUXGA (1920×1200)',
    nativeAspect: 16 / 10,
    defaultLens: 'ET-D3LES20',
    compatibleLenses: ['ET-D3LEW60', 'ET-D3LES20', 'ET-D3LET80'],
  },

  // Christie Projectors
  'HS-P1': {
    name: 'HS-P1',
    brand: 'Christie',
    lumens: 36500,
    resolution: '4K (4096×2400)',
    nativeAspect: 1.9,
    defaultLens: 'Christie-1.02-1.36',
    compatibleLenses: ['Christie-UST', 'Christie-0.85-1.02', 'Christie-1.02-1.36', 'Christie-1.22-1.53'],
  },
  'Crimson-HD31': {
    name: 'Crimson HD31',
    brand: 'Christie',
    lumens: 31000,
    resolution: 'HD (1920×1080)',
    nativeAspect: 16 / 9,
    defaultLens: 'Christie-1.02-1.36',
    compatibleLenses: ['Christie-0.85-1.02', 'Christie-1.02-1.36', 'Christie-1.22-1.53'],
  },
  'Crimson-HD25': {
    name: 'Crimson HD25',
    brand: 'Christie',
    lumens: 25000,
    resolution: 'HD (1920×1080)',
    nativeAspect: 16 / 9,
    defaultLens: 'Christie-1.02-1.36',
    compatibleLenses: ['Christie-0.85-1.02', 'Christie-1.02-1.36', 'Christie-1.22-1.53'],
  },
  'Griffyn-4K32-RGB': {
    name: 'Griffyn 4K32-RGB',
    brand: 'Christie',
    lumens: 32000,
    resolution: '4K (4096×2160)',
    nativeAspect: 16 / 9,
    defaultLens: 'Christie-1.02-1.36',
    compatibleLenses: ['Christie-UST', 'Christie-0.85-1.02', 'Christie-1.02-1.36', 'Christie-1.22-1.53'],
  },
  'M-4K15-RGB': {
    name: 'M 4K15 RGB',
    brand: 'Christie',
    lumens: 15000,
    resolution: '4K (4096×2160)',
    nativeAspect: 16 / 9,
    defaultLens: 'Christie-1.02-1.36',
    compatibleLenses: ['Christie-0.85-1.02', 'Christie-1.02-1.36', 'Christie-1.22-1.53'],
  },
  'M-4K25-RGB': {
    name: 'M 4K25 RGB',
    brand: 'Christie',
    lumens: 25500,
    resolution: '4K (4096×2160)',
    nativeAspect: 16 / 9,
    defaultLens: 'Christie-1.02-1.36',
    compatibleLenses: ['Christie-UST', 'Christie-0.85-1.02', 'Christie-1.02-1.36', 'Christie-1.22-1.53'],
  },

  // Barco Projectors
  'D4K40-RGB': {
    name: 'D4K40-RGB',
    brand: 'Barco',
    lumens: 40000,
    resolution: '4K (4096×2160)',
    nativeAspect: 16 / 9,
    defaultLens: 'Barco-1.2-1.5',
    compatibleLenses: ['Barco-UST-0.36', 'Barco-0.75-0.95', 'Barco-1.2-1.5'],
  },
  'UDX-4K32': {
    name: 'UDX-4K32',
    brand: 'Barco',
    lumens: 32000,
    resolution: '4K (3840×2400)',
    nativeAspect: 16 / 10,
    defaultLens: 'Barco-1.2-1.5',
    compatibleLenses: ['Barco-0.75-0.95', 'Barco-1.2-1.5'],
  },
  'UDX-4K22': {
    name: 'UDX-4K22',
    brand: 'Barco',
    lumens: 22000,
    resolution: '4K (3840×2400)',
    nativeAspect: 16 / 10,
    defaultLens: 'Barco-1.2-1.5',
    compatibleLenses: ['Barco-0.75-0.95', 'Barco-1.2-1.5'],
  },
  'UDM-4K22': {
    name: 'UDM-4K22',
    brand: 'Barco',
    lumens: 22000,
    resolution: '4K (3840×2160)',
    nativeAspect: 16 / 9,
    defaultLens: 'Barco-1.2-1.5',
    compatibleLenses: ['Barco-UST-0.36', 'Barco-0.75-0.95', 'Barco-1.2-1.5'],
  },
  'UDM-W22': {
    name: 'UDM-W22',
    brand: 'Barco',
    lumens: 22000,
    resolution: 'WUXGA (1920×1200)',
    nativeAspect: 16 / 10,
    defaultLens: 'Barco-1.2-1.5',
    compatibleLenses: ['Barco-UST-0.36', 'Barco-0.75-0.95', 'Barco-1.2-1.5'],
  },
  'UDM-W19': {
    name: 'UDM-W19',
    brand: 'Barco',
    lumens: 19000,
    resolution: 'WUXGA (1920×1200)',
    nativeAspect: 16 / 10,
    defaultLens: 'Barco-1.2-1.5',
    compatibleLenses: ['Barco-0.75-0.95', 'Barco-1.2-1.5'],
  },
  'UDM-W15': {
    name: 'UDM-W15',
    brand: 'Barco',
    lumens: 15000,
    resolution: 'WUXGA (1920×1200)',
    nativeAspect: 16 / 10,
    defaultLens: 'Barco-1.2-1.5',
    compatibleLenses: ['Barco-0.75-0.95', 'Barco-1.2-1.5'],
  },

  // Epson Projectors
  'EB-PU2220B': {
    name: 'EB-PU2220B',
    brand: 'Epson',
    lumens: 20000,
    resolution: 'WUXGA (1920×1200)',
    nativeAspect: 16 / 10,
    defaultLens: 'Epson-ELPLS04',
    compatibleLenses: ['Epson-ELPLX02S', 'Epson-ELPLU03S', 'Epson-ELPLS04'],
  },
  'EB-PU2120W': {
    name: 'EB-PU2120W',
    brand: 'Epson',
    lumens: 12000,
    resolution: 'WUXGA (1920×1200)',
    nativeAspect: 16 / 10,
    defaultLens: 'Epson-ELPLS04',
    compatibleLenses: ['Epson-ELPLX02S', 'Epson-ELPLU03S', 'Epson-ELPLS04'],
  },
  'EB-PU1008W': {
    name: 'EB-PU1008W',
    brand: 'Epson',
    lumens: 8500,
    resolution: 'WUXGA (1920×1200)',
    nativeAspect: 16 / 10,
    defaultLens: 'Epson-ELPLS04',
    compatibleLenses: ['Epson-ELPLX02S', 'Epson-ELPLU03S', 'Epson-ELPLS04'],
  },
  'EB-PU1007W': {
    name: 'EB-PU1007W',
    brand: 'Epson',
    lumens: 7000,
    resolution: 'WUXGA (1920×1200)',
    nativeAspect: 16 / 10,
    defaultLens: 'Epson-ELPLS04',
    compatibleLenses: ['Epson-ELPLU03S', 'Epson-ELPLS04'],
  },
  'Pro-L30000U': {
    name: 'Pro L30000U',
    brand: 'Epson',
    lumens: 30000,
    resolution: 'WUXGA (1920×1200)',
    nativeAspect: 16 / 10,
    defaultLens: 'Epson-ELPLS04',
    compatibleLenses: ['Epson-ELPLX02S', 'Epson-ELPLU03S', 'Epson-ELPLS04'],
  },

  // Digital Projection
  'Titan-Laser-37000': {
    name: 'Titan Laser 37000',
    brand: 'Digital Projection',
    lumens: 37000,
    resolution: 'WUXGA (1920×1200)',
    nativeAspect: 16 / 10,
    defaultLens: 'ET-D3LES20',
    compatibleLenses: ['ET-D3LEW60', 'ET-D75LE6', 'ET-D3LEW10', 'ET-D3LES20', 'ET-D3LET80'],
  },
  'Titan-Laser-26000': {
    name: 'Titan Laser 26000',
    brand: 'Digital Projection',
    lumens: 26000,
    resolution: 'WUXGA (1920×1200)',
    nativeAspect: 16 / 10,
    defaultLens: 'ET-D3LES20',
    compatibleLenses: ['ET-D3LEW60', 'ET-D75LE6', 'ET-D3LEW10', 'ET-D3LES20', 'ET-D3LET80'],
  },
  'M-Vision-21000': {
    name: 'M-Vision 21000',
    brand: 'Digital Projection',
    lumens: 21000,
    resolution: 'WUXGA (1920×1200)',
    nativeAspect: 16 / 10,
    defaultLens: 'ET-D3LES20',
    compatibleLenses: ['ET-D3LEW60', 'ET-D3LES20', 'ET-D3LET80'],
  },
  'E-Vision-15000': {
    name: 'E-Vision 15000',
    brand: 'Digital Projection',
    lumens: 15000,
    resolution: 'WUXGA (1920×1200)',
    nativeAspect: 16 / 10,
    defaultLens: 'ET-D3LES20',
    compatibleLenses: ['ET-D3LEW60', 'ET-D3LES20', 'ET-D3LET80'],
  },
};

export const throwToFOV = (throwRatio: number): number => {
  return 2 * Math.atan(0.5 / throwRatio) * (180 / Math.PI);
};

export const fovToThrow = (fov: number): number => {
  return 0.5 / Math.tan((fov * Math.PI / 180) / 2);
};
